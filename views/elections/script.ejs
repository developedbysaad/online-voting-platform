<script>
    // end election API
    function endElection(id) {
      const token = document
      .querySelector('meta[name="csrf-token"]')
      .getAttribute("content");

      fetch(`/election/${id}/end`, {
        method: "PUT",
        _csrf: token,
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          _csrf: token
        })
      }).then((res) => {
        if (res.ok) {
          window.location.reload();
        }
      });
    }

    //delete voter
    function deleteVoter(electionID, id) {
      const token = document
      .querySelector('meta[name="csrf-token"]')
      .getAttribute("content");

      fetch(`/election/${electionID}/voter/${id}/delete`, {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          _csrf: token
        })
      }).then(res => {
        if (res.ok) {
          window.location.reload();
        }
      })
    }

    // electionEdit Script
    
    function toggleModal() {
  document.getElementById('modal').classList.toggle('hidden')
}


//delete voter
function deleteVoter(electionId, id) {
        var token = document
        .querySelector('meta[name="csrf-token"]')
        .getAttribute("content");
        fetch(`/election/${electionId}/voter/${id}/delete`, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({
            _csrf: token
          })
        }).then(res => {
          if (res.ok) {
            window.location.reload();
          }
        })
      }

      
 function deleteQuestion(id) {
                var token = document
                    .querySelector('meta[name="csrf-token"]')
                    .getAttribute("content");
                fetch(`/election/<%= election.id %>/question/${id}`, {
                    method: 'DELETE',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        _csrf: token
                    })
                }).then(res => {
                    if (res.ok === true) {
                        window.location.reload()
                    }
                })
            }

// election header

function toggleElectionModal() {
  document.getElementById('electionModal').classList.toggle('hidden')
}
function toggleOptionModal() {
  document.getElementById('optionModal').classList.toggle('hidden')
}
function toggleVoterModal() {
  document.getElementById('voterModal').classList.toggle('hidden')
}


</script>